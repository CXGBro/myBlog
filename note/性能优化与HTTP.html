<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>性能优化与浏览器原理与计算机网络 | XG's Blog</title>
    <meta name="description" content="前端学习笔记">
    <link rel="stylesheet" href="/assets/style.1dea14ef.css">
    <link rel="modulepreload" href="/assets/app.163ddb22.js">
    <link rel="modulepreload" href="/assets/note_性能优化与HTTP.md.876803e0.lean.js">
    
    <link rel="icon" href="/logo.svg">
  <meta name="keywords" content="Vue, VitePress, Starter">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f44a984a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-f44a984a data-v-a50780ff><div class="VPNavBar has-sidebar" data-v-a50780ff data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle has-sidebar" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/" data-v-d5925166><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-b7ac6bd3><!--]--><!--[-->XG&#39;s Blog<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/note/index.html" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->笔记<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6f1d18b5 data-v-738bef5a data-v-f6988cfb><!--[--><a class="VPSocialLink" href target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e4361c82><div class="item social-links" data-v-e4361c82><div class="VPSocialLinks social-links-list" data-v-e4361c82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-f44a984a data-v-b6162a8b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b6162a8b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b6162a8b><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b6162a8b>Menu</span></button><a class="top-link" href="#" data-v-b6162a8b> Return to top </a></div><aside class="VPSidebar" data-v-f44a984a data-v-a186aa16><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a186aa16><span class="visually-hidden" id="sidebar-aria-label" data-v-a186aa16> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-a186aa16><section class="VPSidebarGroup collapsible" data-v-a186aa16 data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>分类</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/note/HTML.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>HTML</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/note/CSS.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>CSS</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/note/JavaScript.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>JavaScript</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/note/Vue.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/note/React.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>React</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/note/TypeScript.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>TypeScript</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/note/Webpack.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Webpack</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link active" href="/note/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8EHTTP.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>性能优化与HTTP</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/note/%E9%A1%B9%E7%9B%AE.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>项目</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/note/%E7%AE%97%E6%B3%95.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>算法</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-f44a984a data-v-d981fe29><div class="VPDoc has-sidebar has-aside" data-v-d981fe29 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _note_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8EHTTP" data-v-cfb513e0><div><h1 id="性能优化与浏览器原理与计算机网络" tabindex="-1">性能优化与浏览器原理与计算机网络 <a class="header-anchor" href="#性能优化与浏览器原理与计算机网络" aria-hidden="true">#</a></h1><h2 id="输入url浏览器发生了什么" tabindex="-1">输入URL浏览器发生了什么 <a class="header-anchor" href="#输入url浏览器发生了什么" aria-hidden="true">#</a></h2><h3 id="tcp连接过程" tabindex="-1">TCP连接过程 <a class="header-anchor" href="#tcp连接过程" aria-hidden="true">#</a></h3><ol><li>用户输入URL地址,浏览器发送给DNS服务器,DNS服务器经过解析返回给浏览器服务器的IP与端口号 <ol><li>查找DNS并不是直接向DNS服务器寻找,先向浏览器缓存中寻找,再向操作系统缓存中寻找,再不行向hosts里寻找</li><li>本地DNS-&gt;根DNS-&gt;顶级DNS-&gt;权威DNS</li></ol></li><li>浏览器通过三次握手与服务器建立TCP连接 <ol><li>客户端发送SYN包,服务器收到SYN包</li><li>服务器发送ACK包,客户端收到ACK包 (客户端发送与接收的功能正常)</li><li>客户端发送ACK包,服务器收到ACK包 (服务器确认发送与接收功能正常)</li></ol></li><li>建立TCP连接以后,浏览器按照HTTP规定格式通过TCP向服务器发送&quot;GET /HTTP/1.1&quot;报文</li><li>服务器收到报文后,根据HTTP协议解析报文,了解到浏览器的请求内容.了解到具体内容之后,根据HTTP协议拼接成符合要求的报文发送回去,此时发送回去的即为响应头为&quot;HTTP/1.1 200 OK&quot;的响应报文 <ol><li>收到报文的时候,服务器会在TCP层面返回一个ACK包确认请求,不过该包HTTP是看不到的</li></ol></li><li>浏览器收到报文进行解析,如果是个HTML文件,再通过浏览器引擎,JS引擎进行解析渲染. <ol><li>在TCP层面,浏览器也要返回一个ACK确认响应报文收到了</li></ol></li><li>TCP四次挥手 <ol><li>客户端发送FIN包,服务器接收到FIN包</li><li>服务器发送ACK包,客户端接收到ACK包,客户端改变状态,等待服务器的断开信息</li><li>服务器发送FIN包,告诉客户端现在可以断开连接了.客户端接收到FIN包</li><li>客户端发送ACK包给服务器,服务器接收到ACK包,然后断开连接.如果客户端等一段时间后还没有收到服务器发来的信息,说明链接已经中断了.</li></ol></li></ol><h3 id="进程与线程" tabindex="-1">进程与线程 <a class="header-anchor" href="#进程与线程" aria-hidden="true">#</a></h3><p>线程是跑在进程里面的.一个进程里面可以有多个线程,一个线程只能对应一个线程</p><p>打开一个应用程序就相当于打开一个进程(浏览器中一个页面就是一个进程),系统将会为该进程分配一个全新的内存空间</p><p>创建进程以后,就可以创建线程来进行任务处理.可以创建多个线程来处理多个任务.同时处理多个任务的方式就叫做并行处理.</p><p>在应用程序中,可以创建新的进程进行资源处理,由于进程之间是相互独立的,使用新的进程可以避免一个进程挂掉以后,依然可以使用其它进程.</p><h4 id="在chrome浏览器中" tabindex="-1">在Chrome浏览器中 <a class="header-anchor" href="#在chrome浏览器中" aria-hidden="true">#</a></h4><p>市面上大部分浏览器都是采取了多进程设计,如浏览器进程,渲染进程,GPU进程,插件进程.每个进程担任不同的角色.处理不同的任务.每个进程下有细分了许多的线程,处理该进程下更加细分的小人物.不同进程之间是相互隔离的.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">理解用:</span></span>
<span class="line"><span style="color:#A6ACCD;">当我们是要浏览一个网页，我们会在浏览器的地址栏里输入URL，这个时候Browser Process会向这个URL发送请求，获取这个URL的HTML内容，然后将HTML交给Renderer Process，Renderer Process解析HTML内容，解析遇到需要请求网络的资源又返回来交给Browser Process进行加载，同时通知Browser Process，需要Plugin Process加载插件资源，执行插件代码。解析完成后，Renderer Process计算得到图像帧，并将这些图像帧交给GPU Process，GPU Process将其转化为图像显示屏幕。 即 标签页是渲染进程</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Chrome浏览器是一个多进程程序,它主要包括</p><p>浏览器进程(Browser Process)</p><p>渲染进程(Renderer Process)</p><p>插件进程(Plugin Process)</p><p>GPU进程(GPU Process)</p><p>打开浏览器时会启动一个browser process,输入URL请求时会开启一个渲染进程(renderer process)</p><h4 id="渲染进程" tabindex="-1">渲染进程 <a class="header-anchor" href="#渲染进程" aria-hidden="true">#</a></h4><p>渲染进程主要负责浏览器请求到html等代码后的解析与渲染工作,</p><p>它包括GUI线程,JS引擎线程,事件触发线程,定时器线程等</p><p>GUI线程就是走的关键渲染路径,通过构建dom tree css tree renderer tree 布局\绘制 重绘与回流的步骤,完成网页的渲染.</p><p>JS引擎线程主要负责解析js代码(v8引擎),其与GUI线程互斥,即会堵塞GUI线程的正常解析</p><p>事件触发线程:(event loop核心线程)触发的事件放入队列的尾部等待js引擎处理</p><p>所以为什么script会影响js解析,script属于js引擎线程,解析属于GUI线程,两者是互斥的.</p><h2 id="浏览器缓存" tabindex="-1">浏览器缓存 <a class="header-anchor" href="#浏览器缓存" aria-hidden="true">#</a></h2><p>缓存是一种简单直接地性能优化方法</p><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h3><h2 id="web存储" tabindex="-1">Web存储 <a class="header-anchor" href="#web存储" aria-hidden="true">#</a></h2><h3 id="cookie" tabindex="-1">cookie <a class="header-anchor" href="#cookie" aria-hidden="true">#</a></h3><p>由于HTTP是一种无状态协议,也就是建立连接,交换数据,断开连接这一过程后,再次发起请求,服务器并不知道客户端的身份.于是cookie应运而生,cookie是浏览器存储在本地的文件,用于下次客户端发送请求时告知服务端身份</p><p>修改cookie的api document.cookie</p><ol><li>cookie被借用了存储的功能</li><li>大小限制在4KB</li><li>每次都会携带在http头中，过量的cookie会损耗性能。</li><li>cookie是紧跟域名的，同一个域名下的所有请求，都会携带 Cookie。</li><li>不够安全，服务器没法分辨用户和攻击者，攻击者可以读取网络上的其他用户的信息，包含HTTP Cookie的全部内容，以便进行中间的攻击。使用跨站点脚本技术可以窃取cookie等。</li></ol><h3 id="webstorage" tabindex="-1">WebStorage <a class="header-anchor" href="#webstorage" aria-hidden="true">#</a></h3><ol><li>大小为5MB</li><li>只发生在浏览器本地,不与服务器进行交换</li></ol><h2 id="tcp-ip协议" tabindex="-1">TCP/IP协议 <a class="header-anchor" href="#tcp-ip协议" aria-hidden="true">#</a></h2><h3 id="tcp与udp的区别" tabindex="-1">TCP与UDP的区别 <a class="header-anchor" href="#tcp与udp的区别" aria-hidden="true">#</a></h3><ol><li>TCP需要连接,UDP不用连接,直接传输数据</li><li>TCP是一对一的两点服务,UDP支持一对一与一对多</li><li>TCP是可靠交付,数据无差错,不丢失.UDP不保证可靠交付</li><li>!!(非必要不用回答)TCP有拥塞控制和流量控制,保证数据传输安全性.UDP没有,可以保证传输的效率</li><li>TCP面向:HTTP/FTP.UDP面向视频,音频等</li></ol><h2 id="http协议" tabindex="-1">HTTP协议 <a class="header-anchor" href="#http协议" aria-hidden="true">#</a></h2><p>五层模型:应用层HTTP 传输层TCP UDP 网络层IP 链路层 物理层</p><p>http是一种网络协议,解决了应用程序之间如果传输数据,应该以怎么样的格式传输数据的问题.</p><p>其底层基于TCP/IP协议,该协议解决了应用程序之间如何建立通信连接,以及如何通信的问题.</p><p>特点:</p><ol><li><p>可扩展:请求响应头,请求方法,状态码等都可以灵活拓展,这些都是随着时代发展所添加上去的.</p></li><li><p>可靠传输:HTTP基于TCP/IP协议,TCP本身是一种可靠传输协议,本质是对传输的数据做上一层包装(加上一些头信息)然后利用socket API发送.可靠的就是信息能过正确的送达</p></li><li><p>请求应答模式:顺序进入,顺序出去.一个请求,一个应答</p></li><li><p>无状态:收发双方不知道对方的身份每一次的报文传输也是完全独立的.TCP协议就是有状态的,UDP不是</p><ol><li>无状态可以减轻服务器记忆状态的负担,还可以不用任何判断的进行负载均衡实现高并发</li></ol></li><li><p>明文传输:截获的流量就是真实浏览的内容</p></li><li><p>性能: 请求应答模式导致的队头阻塞,即顺序发送的请求如果遇到堵塞,后面排队的请求也会一并被堵塞</p></li></ol><p>实体数据:</p><p>浏览器接收到HTTP数据后,并不知道该数据是什么样的格式,于是规定MIME.同时传输数据存在压缩,规定Encoding Type</p><ol><li>MIME,规定HTTP的数据类别 type/subtype <ol><li>对应请求头:Accept 响应头:Content-type 这个过程叫做内容协商</li><li>text image audio video application</li></ol></li><li>Encoding-type:gzip deflate br <ol><li>对应 accept-encoding content-encoding</li></ol></li><li>其它编码格式,语言等也属于内容协商 <ol><li>使用q=value设置权重</li></ol></li></ol><p>长短连接:</p><ol><li>短连接每一次都要TCP连接,太浪费</li><li>长连接(默认开启) <ol><li>请求/响应头:Connection:keep-alive</li></ol></li><li>解决对头阻塞的问题,使用并发连接,也就是对同一个域名开启多个长连接,但这回造成服务器资源的问题</li></ol><p>重定向: 301与302状态码等可以认为是重定向</p><p>​ 1.重定向的地址有响应头:Location:/xxx.html决定</p><p>Cookie: 为了解决HTTP无状态的问题,使用cookie让服务器记住状态,除此之外,还有广告跟踪的功能(第三方cookie)</p><pre><code>1. 响应头Set-cookie,发给客户端,
1. 客户端下次再请求时,使用cookie请求头,标明自己的身份
3. cookie的属性
 	1. expires与max-age(max-age的优先级更高):设置cookie的失效时间
 	2. domin;path指定cookie所属的域名和路径,在发送cookie前,浏览器对比URL中的域名与路径是否与cookie中的一致,如果一致再发送请求.
 	3. HttpOnly属性:只能通过http协议传输cookie,防止了XSS攻击(防止了诸如document.cookie的方法获取cookie)
 	4. SameSite属性:SameSite=Strict”可以严格限定 Cookie 不能随着跳转链接跨站发送， 而“SameSite=Lax”允许 GET/HEAD 等方法，但禁止 POST 跨站发送。这防止了CSRF攻击,即如果跨站传输cookie的话会被禁止
</code></pre><h3 id="http缓存" tabindex="-1">HTTP缓存 <a class="header-anchor" href="#http缓存" aria-hidden="true">#</a></h3><p>强缓存:在资源未过期之前.浏览器都不会向服务器请求资源,直接使用本地的缓存</p><p>主要响应头: expires cache-control</p><ol><li>cache-control:max-age:5 这里的时间是从<strong>报文创建的时间开始计算的</strong>.即为Date字段</li><li>no-store:不存储缓存,用于数据变化非常频繁的数据,如秒杀界面</li><li>no-cache:使用缓存之前向服务器验证是否过期,不管缓存有没有过期</li><li>must-revalidate:如果缓存过期了,就向服务器校检,没过期直接用就可以了</li></ol><p>​ 5. 请求与响应都可以实现cache-control,如果请求头里添加了max-age=0,也就是缓存资源保存0s,也就相当于no-store.即服务器每次都要返回最新的资源</p><p>协商缓存:每一次都需要与服务器进行协商查看资源是否有更新,如果更新就重新获取资源,返回200.没有命中缓存,返回304</p><p>请求头:if-modified-since if</p><p>代理服务器</p><p>区分代理服务器↓</p><p>代理服务器作为客户端与服务器中间的中间人,一定程度上隐藏了服务器的真实信息1. 使用via字段,每次经过代理服务器时,都添加:via:proxy1,proxy2这样的字段</p><p>源服务器的缓存控制</p><ol><li>private只能缓存在客户端,publlc缓存完全开发</li><li>如果你登录论坛,返回的报文里set-cookie里有论坛ID,这个时候就不能再使用代理服务器缓存,只能存在客户端,否则就有泄露的风险</li><li>proxy-revalidate,缓存过期后,只验证到代理服务器这个级别就可以了</li><li>s-maxage,设置缓存在代理服务器上的缓存时间</li><li>no-transform:禁止代理服务器偷偷的改变一些数据</li></ol><h3 id="http状态码" tabindex="-1">HTTP状态码 <a class="header-anchor" href="#http状态码" aria-hidden="true">#</a></h3><p>响应报文中的响应头分为: HTTP版本号 状态码 原因(基本无用)</p><ol><li><p>1XX:表示处于通信的中间阶段,还需要继续操作</p><p>101 Switching Protocols: 客户端通过Upgrade请求头告知更换请求协议,服务器同意更换,返回101状态码告知客户端更换协议</p></li><li><p>2XX:表示服务端受到并成功处理了客户端的请求</p><p>200 OK:正确的处理了请求</p><p>204 Not Content:正确的处理了请求,但没有响应体</p><p>206 Partial Content:客户端发送部分请求,要求获得部分资源,服务器返回的响应体只是一部分的情况.响应体中还有content-range的响应头,用于标记响应数据的大小</p></li><li><p>3XX:表示客户端请求的数据发生变动,必须以新的URI发送请求</p><ol><li>301 Moved Permanently:永久重定向,即资源不存在,需要改用新的URI</li><li>302 Found 临时重定向:资源临时不存在</li><li>304 Not Modified 用于浏览缓存,可以理解为:重定向到已经缓存的文件上</li><li>(以下非常用)303 307 308</li></ol></li></ol><h2 id="https" tabindex="-1">HTTPS <a class="header-anchor" href="#https" aria-hidden="true">#</a></h2><p>http是明文传输,使用它来传输非常的不安全</p><p>https相比较http最大的变化就是下层协议变成了SSL/TLS</p><p>TLS是它的正式姓名,SSL只是习惯叫法</p><h3 id="对称加密与非对称加密" tabindex="-1">对称加密与非对称加密 <a class="header-anchor" href="#对称加密与非对称加密" aria-hidden="true">#</a></h3><ol><li><p>加密和解密的密钥都只是一个</p><p>在TLS中,常用的加密算法是:AES与ChaCha20</p></li><li><p>公钥发给任何人,私钥只能自己保管</p><p>常用的加密算法是: RSA 与 ECC</p></li></ol><h3 id="在tls中使用的是混合加密" tabindex="-1">在TLS中使用的是混合加密 <a class="header-anchor" href="#在tls中使用的是混合加密" aria-hidden="true">#</a></h3><ol><li>首先使用非对称加密,解决密钥传输问题</li><li>生成一个会话密钥,使用公钥加密这个会话密钥,发给接收方,接收方使用私钥解密,就完成了会话密钥的传输</li><li>之后的方法就是用对称加密</li></ol><h3 id="摘要算法" tabindex="-1">摘要算法 <a class="header-anchor" href="#摘要算法" aria-hidden="true">#</a></h3><p>混合加密并不能完全保证安全,摘要算法是为了保证消息的完整性</p><p>发送消息给服务器时,带上一个SHA-2的摘要,网站收到信息后计算摘要,然后进行对比.如果一致即说明消息完整.(注意要把消息与摘要通过会话密钥同时加密,防止摘要也被修改)</p><h3 id="数字签名" tabindex="-1">数字签名 <a class="header-anchor" href="#数字签名" aria-hidden="true">#</a></h3><p>数字签名存在的目的是保证双方的<strong>身份认证</strong>信息</p><p>数字签名的原理就是将非对称加密的原理返回来,以前是公钥加密,私钥解密.现在是私钥加密,公钥解密</p><p>通过私钥加密传输密文的摘要后的内容即为数字签名</p><p>浏览器通过自己的私钥加密发送给服务器的信息的摘要,服务器通过公钥解密后发现和接收的内容的摘要一致,服务器就确认了浏览器的身份信息.反过来也一样</p><h3 id="数字证书认证机构-ca" tabindex="-1">数字证书认证机构(CA) <a class="header-anchor" href="#数字证书认证机构-ca" aria-hidden="true">#</a></h3><p>公钥任何人都有,可是怎么确定这个公钥就是某个网站公开的呢?使用CA</p><p>CA完整的证明了公钥的所有者信息,形成了数字证书</p><p>数字证书的级别: DV &lt;OV&lt; EV,在于数字证书的可信程度</p><p>CA证明自己的方法:根证书</p><h2 id="http2" tabindex="-1">HTTP2 <a class="header-anchor" href="#http2" aria-hidden="true">#</a></h2><p>HTTP2相比较1,在规范上没有太大的变化,保留了协议名:http/https,这很好的保证了网站的兼容性</p><ol><li><p>头部压缩:</p><ol><li>http1时期,通过content-encoding字段指定body的压缩格式,但是header的大小与内容依然很多 .使用HPACK算法进行头部压缩</li></ol></li><li><p>二进制格式</p><p>由明文转换为二进制格式,把原来的“Header+Body”的消息“打散”为 数个小片的二进制“帧”（Frame），用“HEADERS”帧存放头数据、“DATA”帧存放 实体数据。</p></li><li><p>流</p><p>对往返的消息分配一个唯一的流ID,这样数据帧有了先后顺序,就可以正确的组成请求与响应把报文</p><p>如此,流可以发送多个帧序列,也就是多路复用,</p><p>改变请求响应的应答模式,服务器也可以主动的发送流给客户端,这叫做服务器推送</p></li><li><p>强化安全</p><p>在实际的应用场景上HTTP2就是使用https</p></li></ol><h2 id="网络安全" tabindex="-1">网络安全 <a class="header-anchor" href="#网络安全" aria-hidden="true">#</a></h2><h3 id="xss攻击" tabindex="-1">XSS攻击 <a class="header-anchor" href="#xss攻击" aria-hidden="true">#</a></h3><p>Cross Site Scripting(跨站脚本),即进行</p><p>就是尽可能的把可执行代码嵌入到网站中执行</p><p>持久型:把代码直接注入到数据库中,这么做可能危害到所有的网站使用用户</p><p>举例:评论区内输入<code>&lt;script&gt;alert(&#39;hhh&#39;)&lt;/script&gt;</code>这样的</p><p>非持久型:通过浏览器传参来注入代码</p><p>解决方案:</p><p>将用户输入的内容进行改变,防止用户输入不该输入的内容</p><ol><li>字符替换(将可能的攻击字符转换成没有攻击可能的字符)</li><li>使用白名单过滤(白名单中标明只接受哪种类型的标签) 请见 js</li></ol><h3 id="csrf攻击" tabindex="-1">CSRF攻击 <a class="header-anchor" href="#csrf攻击" aria-hidden="true">#</a></h3><p>跨站请求伪造,黑客编写一个请求代码,诱导用户的点击或在用户不知情的情况下发起请求,如果后端没有相应的防御措施,就会误以为是用户真正的发送了请求,造成用户隐私泄露;</p><p>解决方案:</p><p>1.验证referer: 验证站点请求来源,如果来源不为本站点,则后端拒绝请求;</p><p>2.验证token: 每次访问时,服务器下发一个token,进行请求时,浏览器携带token与服务器进行认证,如果认证通过就允许请求</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-cfb513e0 data-v-21f75714><!----><div class="prev-next" data-v-21f75714><div class="pager" data-v-21f75714><a class="pager-link prev" href="/note/Webpack.html" data-v-21f75714><span class="desc" data-v-21f75714>上一页</span><span class="title" data-v-21f75714>Webpack</span></a></div><div class="has-prev pager" data-v-21f75714><a class="pager-link next" href="/note/%E9%A1%B9%E7%9B%AE.html" data-v-21f75714><span class="desc" data-v-21f75714>下一页</span><span class="title" data-v-21f75714>项目</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"3bac96de\",\"note_css.md\":\"c5440d15\",\"note_html.md\":\"0b3417f1\",\"note_javascript.md\":\"3f4928d8\",\"note_react.md\":\"135c58a9\",\"note_typescript.md\":\"753f9015\",\"note_vue.md\":\"84f8b689\",\"note_webpack.md\":\"680c2fa6\",\"note_index.md\":\"2a6dac7a\",\"note_性能优化与http.md\":\"876803e0\",\"note_算法.md\":\"43b7c57e\",\"note_项目.md\":\"8aa12ca9\"}")</script>
    <script type="module" async src="/assets/app.163ddb22.js"></script>
    
  </body>
</html>